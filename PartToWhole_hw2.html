<!DOCTYPE html>
<html>
<head>
  <style>
  .red {
    fill:red;
  }
  .blue {
    fill:blue;
  }
  .green {
    fill:green;
  }
  .yellow {
    fill:yellow;
  }
  .purple {
    fill:purple;
  }
  </style>
</head>
<body>
<h2>The Worlds Favorite Movie Genres in 2022</h2>
<script>
var cc=[['Action',18.29],['Adventure',15.63],['Family',10.32],['Comedy',9.44],['Other',46.32]];
var colors=['red','blue','green','yellow','purple'];
</script>
<svg width="400" height="400" id="pie">
<g transform="translate(200,150)" id="Recs"></g>
</svg>

<script>
	var mainSVG = document.getElementById("Recs");
  var radius=100;
  var total= 0;
  var angles= [];
  var positions=[];
  
  for(i=0; i<cc.length; i++) {
  	total=total+cc[i][1];
  }
  angles[0]=0;
  for(i=1; i<=cc.length; i++) {
  	angles[i]=cc[i-1][1]/total*2*Math.PI+angles[i-1];
  }
  for(i=0; i<=angles.length; i++) {
  x=radius*Math.cos(angles[i]-Math.PI/2)
  y=radius*Math.sin(angles[i]-Math.PI/2)
  positions[i]=[x,y];
  }
  for(i=0; i<=positions.length-1; i++) {
  var pieNode=document.createElementNS("http://www.w3.org/2000/svg", "path");
  	pathD= "M 0 0 L" +positions[i][0] + " " + positions[i][1]+ "A" + radius+ "0 0 1" +positions[i+1][0] + " "+ positions[i+1][1]+ "z";
    
    pieNode.setAttribute("d", pathD)
    pieNode.setAttribute("style", "fill"+colors[i])
    pieNode.setAttribute("title", csl[i][1])
    mainSVG.appendChild(pieNode)
  }
</script>
<h4>This visualization shows the percentage of people that like a certain genre of movies based on a survey.</h4>
</body>
</html>
